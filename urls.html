
<!DOCTYPE HTML>
<html lang="us-en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>URL Generation · Laravel 英文文档</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-prism/prism-solarizedlight.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="session.html" />
    
    
    <link rel="prev" href="views.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://docs.khs1994.com" target="_blank" class="custom-link">Home</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Prologue
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="releases.html">
            
                <a href="releases.html">
            
                    
                    Release Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="upgrade.html">
            
                <a href="upgrade.html">
            
                    
                    Upgrade Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="contributions.html">
            
                <a href="contributions.html">
            
                    
                    Contribution Guide
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Getting Started
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="installation.html">
            
                <a href="installation.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="configuration.html">
            
                <a href="configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="structure.html">
            
                <a href="structure.html">
            
                    
                    Directory Structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="homestead.html">
            
                <a href="homestead.html">
            
                    
                    Homestead
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="valet.html">
            
                <a href="valet.html">
            
                    
                    Valet
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="deployment.html">
            
                <a href="deployment.html">
            
                    
                    Deployment
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Architecture Concepts
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="lifecycle.html">
            
                <a href="lifecycle.html">
            
                    
                    Request Lifecycle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="container.html">
            
                <a href="container.html">
            
                    
                    Service Container
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="providers.html">
            
                <a href="providers.html">
            
                    
                    Service Providers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="facades.html">
            
                <a href="facades.html">
            
                    
                    Facades
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="contracts.html">
            
                <a href="contracts.html">
            
                    
                    Contracts
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    The Basics
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="routing.html">
            
                <a href="routing.html">
            
                    
                    Routing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="middleware.html">
            
                <a href="middleware.html">
            
                    
                    Middleware
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="csrf.html">
            
                <a href="csrf.html">
            
                    
                    CSRF Protection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="controllers.html">
            
                <a href="controllers.html">
            
                    
                    Controllers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="requests.html">
            
                <a href="requests.html">
            
                    
                    Requests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="responses.html">
            
                <a href="responses.html">
            
                    
                    Responses
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="views.html">
            
                <a href="views.html">
            
                    
                    Views
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.8" data-path="urls.html">
            
                <a href="urls.html">
            
                    
                    URL Generation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="session.html">
            
                <a href="session.html">
            
                    
                    Session
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="validation.html">
            
                <a href="validation.html">
            
                    
                    Validation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11" data-path="errors.html">
            
                <a href="errors.html">
            
                    
                    Error Handling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.12" data-path="logging.html">
            
                <a href="logging.html">
            
                    
                    Logging
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Frontend
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="blade.html">
            
                <a href="blade.html">
            
                    
                    Blade Templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="localization.html">
            
                <a href="localization.html">
            
                    
                    Localization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="frontend.md">
            
                <span>
            
                    
                    Frontend Scaffolding
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="mix.html">
            
                <a href="mix.html">
            
                    
                    Compiling Assets
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    Security
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="authentication.html">
            
                <a href="authentication.html">
            
                    
                    Authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="api-authentication.md">
            
                <span>
            
                    
                    API Authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="authorization.html">
            
                <a href="authorization.html">
            
                    
                    Authorization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="verification.html">
            
                <a href="verification.html">
            
                    
                    Email Verification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="encryption.html">
            
                <a href="encryption.html">
            
                    
                    Encryption
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="hashing.html">
            
                <a href="hashing.html">
            
                    
                    Hashing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="passwords.html">
            
                <a href="passwords.html">
            
                    
                    Password Reset
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    Digging Deeper
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="artisan.html">
            
                <a href="artisan.html">
            
                    
                    Artisan Console
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="broadcasting.html">
            
                <a href="broadcasting.html">
            
                    
                    Broadcasting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="cache.html">
            
                <a href="cache.html">
            
                    
                    Cache
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="collections.html">
            
                <a href="collections.html">
            
                    
                    Collections
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="events.html">
            
                <a href="events.html">
            
                    
                    Events
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="filesystem.html">
            
                <a href="filesystem.html">
            
                    
                    File Storage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="helpers.html">
            
                <a href="helpers.html">
            
                    
                    Helpers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.8" data-path="mail.html">
            
                <a href="mail.html">
            
                    
                    Mail
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.9" data-path="notifications.html">
            
                <a href="notifications.html">
            
                    
                    Notifications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.10" data-path="packages.html">
            
                <a href="packages.html">
            
                    
                    Package Development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.11" data-path="queues.html">
            
                <a href="queues.html">
            
                    
                    Queues
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.12" data-path="scheduling.html">
            
                <a href="scheduling.html">
            
                    
                    Task Scheduling
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    Database
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="database.html">
            
                <a href="database.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="queries.html">
            
                <a href="queries.html">
            
                    
                    Query Builder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="pagination.html">
            
                <a href="pagination.html">
            
                    
                    Pagination
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="migrations.html">
            
                <a href="migrations.html">
            
                    
                    Migrations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="seeding.html">
            
                <a href="seeding.html">
            
                    
                    Seeding
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="redis.html">
            
                <a href="redis.html">
            
                    
                    Redis
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    Eloquent ORM
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="eloquent.html">
            
                <a href="eloquent.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="eloquent-relationships.html">
            
                <a href="eloquent-relationships.html">
            
                    
                    Relationships
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="eloquent-collections.html">
            
                <a href="eloquent-collections.html">
            
                    
                    Collections
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="eloquent-mutators.html">
            
                <a href="eloquent-mutators.html">
            
                    
                    Mutators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="eloquent-resources.html">
            
                <a href="eloquent-resources.html">
            
                    
                    API Resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="eloquent-serialization.html">
            
                <a href="eloquent-serialization.html">
            
                    
                    Serialization
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    Testing
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="testing.html">
            
                <a href="testing.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="http-tests.html">
            
                <a href="http-tests.html">
            
                    
                    HTTP Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="console-tests.html">
            
                <a href="console-tests.html">
            
                    
                    Console Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="dusk.html">
            
                <a href="dusk.html">
            
                    
                    Browser Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5" data-path="database-testing.html">
            
                <a href="database-testing.html">
            
                    
                    Database
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.6" data-path="mocking.html">
            
                <a href="mocking.html">
            
                    
                    Mocking
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    Official Packages
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="billing.html">
            
                <a href="billing.html">
            
                    
                    Cashier
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="dusk.html">
            
                <a href="dusk.html">
            
                    
                    Dusk
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="envoy.html">
            
                <a href="envoy.html">
            
                    
                    Envoy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="horizon.html">
            
                <a href="horizon.html">
            
                    
                    Horizon
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="passport.html">
            
                <a href="passport.html">
            
                    
                    Passport
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.6" data-path="scout.html">
            
                <a href="scout.html">
            
                    
                    Scout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.7" data-path="socialite.html">
            
                <a href="socialite.html">
            
                    
                    Socialite
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.8" data-path="telescope.html">
            
                <a href="telescope.html">
            
                    
                    Telescope
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >URL Generation</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="url-generation">URL Generation</h1>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#the-basics">The Basics</a><ul>
<li><a href="#generating-urls">Generating URLs</a></li>
<li><a href="#accessing-the-current-url">Accessing The Current URL</a></li>
</ul>
</li>
<li><a href="#urls-for-named-routes">URLs For Named Routes</a><ul>
<li><a href="#signed-urls">Signed URLs</a></li>
</ul>
</li>
<li><a href="#urls-for-controller-actions">URLs For Controller Actions</a></li>
<li><a href="#default-values">Default Values</a></li>
</ul>
<p><a name="introduction"></a></p>
<h2 id="introduction">Introduction</h2>
<p>Laravel provides several helpers to assist you in generating URLs for your application. These helpers are primarily helpful when building links in your templates and API responses, or when generating redirect responses to another part of your application.</p>
<p><a name="the-basics"></a></p>
<h2 id="the-basics">The Basics</h2>
<p><a name="generating-urls"></a></p>
<h3 id="generating-urls">Generating URLs</h3>
<p>The <code>url</code> helper may be used to generate arbitrary URLs for your application. The generated URL will automatically use the scheme (HTTP or HTTPS) and host from the current request being handled by the application:</p>
<pre class="language-"><code>$post = App\Models\Post::find(1);

echo url(&quot;/posts/{$post-&gt;id}&quot;);

// http://example.com/posts/1
</code></pre><p><a name="accessing-the-current-url"></a></p>
<h3 id="accessing-the-current-url">Accessing The Current URL</h3>
<p>If no path is provided to the <code>url</code> helper, an <code>Illuminate\Routing\UrlGenerator</code> instance is returned, allowing you to access information about the current URL:</p>
<pre class="language-"><code>// Get the current URL without the query string...
echo url()-&gt;current();

// Get the current URL including the query string...
echo url()-&gt;full();

// Get the full URL for the previous request...
echo url()-&gt;previous();
</code></pre><p>Each of these methods may also be accessed via the <code>URL</code> <a href="docs/facades">facade</a>:</p>
<pre class="language-"><code>use Illuminate\Support\Facades\URL;

echo URL::current();
</code></pre><p><a name="urls-for-named-routes"></a></p>
<h2 id="urls-for-named-routes">URLs For Named Routes</h2>
<p>The <code>route</code> helper may be used to generate URLs to <a href="docs/routing#named-routes">named routes</a>. Named routes allow you to generate URLs without being coupled to the actual URL defined on the route. Therefore, if the route&apos;s URL changes, no changes need to be made to your calls to the <code>route</code> function. For example, imagine your application contains a route defined like the following:</p>
<pre class="language-"><code>Route::get(&apos;/post/{post}&apos;, function () {
    //
})-&gt;name(&apos;post.show&apos;);
</code></pre><p>To generate a URL to this route, you may use the <code>route</code> helper like so:</p>
<pre class="language-"><code>echo route(&apos;post.show&apos;, [&apos;post&apos; =&gt; 1]);

// http://example.com/post/1
</code></pre><p>Of course, the <code>route</code> helper may also be used to generate URLs for routes with multiple parameters:</p>
<pre class="language-"><code>Route::get(&apos;/post/{post}/comment/{comment}&apos;, function () {
    //
})-&gt;name(&apos;comment.show&apos;);

echo route(&apos;comment.show&apos;, [&apos;post&apos; =&gt; 1, &apos;comment&apos; =&gt; 3]);

// http://example.com/post/1/comment/3
</code></pre><p>Any additional array elements that do not correspond to the route&apos;s definition parameters will be added to the URL&apos;s query string:</p>
<pre class="language-"><code>echo route(&apos;post.show&apos;, [&apos;post&apos; =&gt; 1, &apos;search&apos; =&gt; &apos;rocket&apos;]);

// http://example.com/post/1?search=rocket
</code></pre><p><a name="eloquent-models"></a></p>
<h4 id="eloquent-models">Eloquent Models</h4>
<p>You will often be generating URLs using the primary key of <a href="docs/eloquent">Eloquent models</a>. For this reason, you may pass Eloquent models as parameter values. The <code>route</code> helper will automatically extract the model&apos;s primary key:</p>
<pre class="language-"><code>echo route(&apos;post.show&apos;, [&apos;post&apos; =&gt; $post]);
</code></pre><p><a name="signed-urls"></a></p>
<h3 id="signed-urls">Signed URLs</h3>
<p>Laravel allows you to easily create &quot;signed&quot; URLs to named routes. These URLs have a &quot;signature&quot; hash appended to the query string which allows Laravel to verify that the URL has not been modified since it was created. Signed URLs are especially useful for routes that are publicly accessible yet need a layer of protection against URL manipulation.</p>
<p>For example, you might use signed URLs to implement a public &quot;unsubscribe&quot; link that is emailed to your customers. To create a signed URL to a named route, use the <code>signedRoute</code> method of the <code>URL</code> facade:</p>
<pre class="language-"><code>use Illuminate\Support\Facades\URL;

return URL::signedRoute(&apos;unsubscribe&apos;, [&apos;user&apos; =&gt; 1]);
</code></pre><p>If you would like to generate a temporary signed route URL that expires after a specified amount of time, you may use the <code>temporarySignedRoute</code> method. When Laravel validates a temporary signed route URL, it will ensure that the expiration timestamp that is encoded into the signed URL has not elapsed:</p>
<pre class="language-"><code>use Illuminate\Support\Facades\URL;

return URL::temporarySignedRoute(
    &apos;unsubscribe&apos;, now()-&gt;addMinutes(30), [&apos;user&apos; =&gt; 1]
);
</code></pre><p><a name="validating-signed-route-requests"></a></p>
<h4 id="validating-signed-route-requests">Validating Signed Route Requests</h4>
<p>To verify that an incoming request has a valid signature, you should call the <code>hasValidSignature</code> method on the incoming <code>Request</code>:</p>
<pre class="language-"><code>use Illuminate\Http\Request;

Route::get(&apos;/unsubscribe/{user}&apos;, function (Request $request) {
    if (! $request-&gt;hasValidSignature()) {
        abort(401);
    }

    // ...
})-&gt;name(&apos;unsubscribe&apos;);
</code></pre><p>Alternatively, you may assign the <code>Illuminate\Routing\Middleware\ValidateSignature</code> <a href="docs/middleware">middleware</a> to the route. If it is not already present, you should assign this middleware a key in your HTTP kernel&apos;s <code>routeMiddleware</code> array:</p>
<pre class="language-"><code>/**
 * The application&apos;s route middleware.
 *
 * These middleware may be assigned to groups or used individually.
 *
 * @var array
 */
protected $routeMiddleware = [
    &apos;signed&apos; =&gt; \Illuminate\Routing\Middleware\ValidateSignature::class,
];
</code></pre><p>Once you have registered the middleware in your kernel, you may attach it to a route. If the incoming request does not have a valid signature, the middleware will automatically return a <code>403</code> HTTP response:</p>
<pre class="language-"><code>Route::post(&apos;/unsubscribe/{user}&apos;, function (Request $request) {
    // ...
})-&gt;name(&apos;unsubscribe&apos;)-&gt;middleware(&apos;signed&apos;);
</code></pre><p><a name="responding-to-invalid-signed-routes"></a></p>
<h4 id="responding-to-invalid-signed-routes">Responding To Invalid Signed Routes</h4>
<p>When someone visits a signed URL that has expired, they will receive a generic error page for the <code>403</code> HTTP status code. However, you can customize this behavior by defining a custom &quot;renderable&quot; closure for the <code>InvalidSignatureException</code> exception in your exception handler. This closure should return an HTTP response:</p>
<pre class="language-"><code>use Illuminate\Routing\Exceptions\InvalidSignatureException;

/**
 * Register the exception handling callbacks for the application.
 *
 * @return void
 */
public function register()
{
    $this-&gt;renderable(function (InvalidSignatureException $e) {
        return response()-&gt;view(&apos;error.link-expired&apos;, [], 403);
    });
}
</code></pre><p><a name="urls-for-controller-actions"></a></p>
<h2 id="urls-for-controller-actions">URLs For Controller Actions</h2>
<p>The <code>action</code> function generates a URL for the given controller action:</p>
<pre class="language-"><code>use App\Http\Controllers\HomeController;

$url = action([HomeController::class, &apos;index&apos;]);
</code></pre><p>If the controller method accepts route parameters, you may pass an associative array of route parameters as the second argument to the function:</p>
<pre class="language-"><code>$url = action([UserController::class, &apos;profile&apos;], [&apos;id&apos; =&gt; 1]);
</code></pre><p><a name="default-values"></a></p>
<h2 id="default-values">Default Values</h2>
<p>For some applications, you may wish to specify request-wide default values for certain URL parameters. For example, imagine many of your routes define a <code>{locale}</code> parameter:</p>
<pre class="language-"><code>Route::get(&apos;/{locale}/posts&apos;, function () {
    //
})-&gt;name(&apos;post.index&apos;);
</code></pre><p>It is cumbersome to always pass the <code>locale</code> every time you call the <code>route</code> helper. So, you may use the <code>URL::defaults</code> method to define a default value for this parameter that will always be applied during the current request. You may wish to call this method from a <a href="docs/middleware#assigning-middleware-to-routes">route middleware</a> so that you have access to the current request:</p>
<pre class="language-"><code>&lt;?php

namespace App\Http\Middleware;

use Closure;
use Illuminate\Support\Facades\URL;

class SetDefaultLocaleForUrls
{
    /**
     * Handle the incoming request.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \Closure  $next
     * @return \Illuminate\Http\Response
     */
    public function handle($request, Closure $next)
    {
        URL::defaults([&apos;locale&apos; =&gt; $request-&gt;user()-&gt;locale]);

        return $next($request);
    }
}
</code></pre><p>Once the default value for the <code>locale</code> parameter has been set, you are no longer required to pass its value when generating URLs via the <code>route</code> helper.</p>
<p><a name="url-defaults-middleware-priority"></a></p>
<h4 id="url-defaults--middleware-priority">URL Defaults &amp; Middleware Priority</h4>
<p>Setting URL default values can interfere with Laravel&apos;s handling of implicit model bindings. Therefore, you should <a href="docs/middleware#sorting-middleware">prioritize your middleware</a> that set URL defaults to be executed before Laravel&apos;s own <code>SubstituteBindings</code> middleware. You can accomplish this by making sure your middleware occurs before the <code>SubstituteBindings</code> middleware within the <code>$middlewarePriority</code> property of your application&apos;s HTTP kernel.</p>
<p>The <code>$middlewarePriority</code> property is defined in the base <code>Illuminate\Foundation\Http\Kernel</code> class. You may copy its definition from that class and overwrite it in your application&apos;s HTTP kernel in order to modify it:</p>
<pre class="language-"><code>/**
 * The priority-sorted list of middleware.
 *
 * This forces non-global middleware to always be in the given order.
 *
 * @var array
 */
protected $middlewarePriority = [
    // ...
     \App\Http\Middleware\SetDefaultLocaleForUrls::class,
     \Illuminate\Routing\Middleware\SubstituteBindings::class,
     // ...
];
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="views.html" class="navigation navigation-prev " aria-label="Previous page: Views">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="session.html" class="navigation navigation-next " aria-label="Next page: Session">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"URL Generation","level":"1.5.8","depth":2,"next":{"title":"Session","level":"1.5.9","depth":2,"path":"session.md","ref":"session.md","articles":[]},"previous":{"title":"Views","level":"1.5.7","depth":2,"path":"views.md","ref":"views.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","-highlight","-livereload","prism"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-solarizedlight.css"]},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Laravel 英文文档","language":"us-en","links":{"sidebar":{"Home":"https://docs.khs1994.com"}},"gitbook":"*"},"file":{"path":"urls.md","mtime":"2021-05-20T00:16:11.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-05-20T00:17:09.960Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

